<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>FriendFinder Survey</title>
	<!-- reset stylesheet -->
	<!-- WON'T WORK UNLESS SERVED STATICALLY FROM SERVER -->
	<link rel="stylesheet" type="text/css" href="assets/css/reset.css">
	<!-- bootstrap -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<!-- jquery  -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<!-- font awesome -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
</head>
<body>
<div class="container">
	<div class="jumbotron">
	<h1 class="display-4"><i class="fa fa-group" aria-hidden="true"></i> FriendFinder</h1>
	<hr class="my-4">

	<form class="form-horizontal">
	<fieldset>

	<!-- Form Name -->
	<legend>Answer Some Simple Questions</legend>

	<!-- Text input-->
	<div class="form-group">
	  <label class="col-md-4 control-label" for="uidName">Name*</label>  
	  <div class="col-md-5">
	  <input id="uidName" name="uidName" type="text" placeholder="John Doe" class="form-control input-md" required="">
	    
	  </div>
	</div>

	<!-- Text input-->
	<div class="form-group">
	  <label class="col-md-4 control-label" for="uidPhoto">Profile Image URL</label>  
	  <div class="col-md-5">
	  <input id="uidPhoto" name="uidPhoto" type="text" placeholder="/selfie.png" class="form-control input-md" required="">
	    
	  </div>
	</div>

	<!-- Questions -->
	<div class="form-group">
	  <label class="col-md-4 control-label" for="q1">Question 1 - Do you agree?</label>
	  <div class="col-md-4">
	    <select id="q1" name="q1" class="form-control">
	      <option value="1">1 (Strongly Disagree)</option>
	      <option value="2">2</option>
	      <option value="3">3</option>
	      <option value="4">4</option>
	      <option value="5">5 (Strongly Agree)</option>
	    </select>
	  </div>
	</div>

	<div class="form-group">
	  <label class="col-md-4 control-label" for="q2">Question 2 - Do you agree?</label>
	  <div class="col-md-4">
	    <select id="q2" name="q2" class="form-control">
	      <option value="1">1 (Strongly Disagree)</option>
	      <option value="2">2</option>
	      <option value="3">3</option>
	      <option value="4">4</option>
	      <option value="5">5 (Strongly Agree)</option>
	    </select>
	  </div>
	</div>

	<div class="form-group">
	  <label class="col-md-4 control-label" for="q3">Question 3 - Do you agree?</label>
	  <div class="col-md-4">
	    <select id="q3" name="q3" class="form-control">
	      <option value="1">1 (Strongly Disagree)</option>
	      <option value="2">2</option>
	      <option value="3">3</option>
	      <option value="4">4</option>
	      <option value="5">5 (Strongly Agree)</option>
	    </select>
	  </div>
	</div>

	<div class="form-group">
	  <label class="col-md-4 control-label" for="q4">Question 4 - Do you agree?</label>
	  <div class="col-md-4">
	    <select id="q4" name="q4" class="form-control">
	      <option value="1">1 (Strongly Disagree)</option>
	      <option value="2">2</option>
	      <option value="3">3</option>
	      <option value="4">4</option>
	      <option value="5">5 (Strongly Agree)</option>
	    </select>
	  </div>
	</div>

	<div class="form-group">
	  <label class="col-md-4 control-label" for="q5">Question 5 - Do you agree?</label>
	  <div class="col-md-4">
	    <select id="q5" name="q5" class="form-control">
	      <option value="1">1 (Strongly Disagree)</option>
	      <option value="2">2</option>
	      <option value="3">3</option>
	      <option value="4">4</option>
	      <option value="5">5 (Strongly Agree)</option>
	    </select>
	  </div>
	</div>

	<div class="form-group">
	  <label class="col-md-4 control-label" for="q6">Question 6 - Do you agree?</label>
	  <div class="col-md-4">
	    <select id="q6" name="q6" class="form-control">
	      <option value="1">1 (Strongly Disagree)</option>
	      <option value="2">2</option>
	      <option value="3">3</option>
	      <option value="4">4</option>
	      <option value="5">5 (Strongly Agree)</option>
	    </select>
	  </div>
	</div>

	<div class="form-group">
	  <label class="col-md-4 control-label" for="q7">Question 7 - Do you agree?</label>
	  <div class="col-md-4">
	    <select id="q7" name="q7" class="form-control">
	      <option value="1">1 (Strongly Disagree)</option>
	      <option value="2">2</option>
	      <option value="3">3</option>
	      <option value="4">4</option>
	      <option value="5">5 (Strongly Agree)</option>
	    </select>
	  </div>
	</div>

	<div class="form-group">
	  <label class="col-md-4 control-label" for="q8">Question 8 - Do you agree?</label>
	  <div class="col-md-4">
	    <select id="q8" name="q8" class="form-control">
	      <option value="1">1 (Strongly Disagree)</option>
	      <option value="2">2</option>
	      <option value="3">3</option>
	      <option value="4">4</option>
	      <option value="5">5 (Strongly Agree)</option>
	    </select>
	  </div>
	</div>

	<div class="form-group">
	  <label class="col-md-4 control-label" for="q9">Question 9 - Do you agree?</label>
	  <div class="col-md-4">
	    <select id="q9" name="q9" class="form-control">
	      <option value="1">1 (Strongly Disagree)</option>
	      <option value="2">2</option>
	      <option value="3">3</option>
	      <option value="4">4</option>
	      <option value="5">5 (Strongly Agree)</option>
	    </select>
	  </div>
	</div>

	<div class="form-group">
	  <label class="col-md-4 control-label" for="q10">Question 10 - Do you agree?</label>
	  <div class="col-md-4">
	    <select id="q10" name="q10" class="form-control">
	      <option value="1">1 (Strongly Disagree)</option>
	      <option value="2">2</option>
	      <option value="3">3</option>
	      <option value="4">4</option>
	      <option value="5">5 (Strongly Agree)</option>
	    </select>
	  </div>
	</div>

	<button class="btn btn-primary" id="uidSubmit" type="submit">Find Friend!</button>

	</fieldset>
	</form>

	</div>

</div>

<script type="text/javascript">

    // In this code below we create the Front-end JavaScript which "POSTS" our form data to our express server.
    // In essence, when the user hits submit, jQuery grabs all of the fields then sends a post request to our api
    // Our api recognizes the route (/api/tables)... and then runs the associated code (found in api-routes.js).

    $(".submit").on("click", function(event) {
      event.preventDefault();

      // Here we grab the form elements
      var newFriend = {
        name: $("#reserve-name").val().trim(),
        photo: $("#reserve-phone").val().trim(),
        scores: $("#reserve-email").val().trim(),
      };

      console.log(newFriend);

      // This line is the magic. It"s very similar to the standard ajax function we used.
      // Essentially we give it a URL, we give it the object we want to send, then we have a "callback".
      // The callback is the response of the server. In our case, we set up code in api-routes that "returns" true or false

      $.post("/api/tables", newFriend,
        function(data) {

          // If a table is available... tell user they are booked.
          if (data) {
            alert("Yay! You are officially booked!");
          }

          else {
            alert("Sorry you are on the wait list");
          }

          // Clear the form when submitting
          $("#reserve-name").val("");
          $("#reserve-phone").val("");
          $("#reserve-email").val("");

        });

    });

</script>

</body>

</html>